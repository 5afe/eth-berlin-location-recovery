{"version":3,"sources":["utils/qrCode.js","utils/contract.js","routes/recover/components/MnemonicModal/styles.module.css","routes/recover/styles.module.css","routes/recover/components/MnemonicModal/index.js","assets/green_earth.png","assets/logo.png","routes/home/components/Setup/styles.module.css","routes/routes.js","utils/web3.js","../node_modules/web3-eth-accounts/src sync","components/Modal/styles.module.css","routes/recover/mapUtils.js","components/Modal/index.js","components/Blockie/index.js","routes/recover/index.js","routes/home/components/Setup/index.js","routes/home/components/Recover/index.js","routes/home/index.js","App.js","serviceWorker.js","index.js","routes/home/styles.module.css","routes/home/components/Recover/styles.module.css"],"names":["createQrImage","elem","data","size","image","document","createElement","setAttribute","qrImage","imageSync","type","toString","getQrData","oldChild","firstElementChild","remove","appendChild","safeRecoveryCall","safeAddress","recoveryOwners","r","s","v","a","safeContract","TruffleContract","GnosisSafe","provider","Web3","providers","HttpProvider","setProvider","recoveryModuleContract","RecoveryModule","web3Provider","getWeb3","currentProvider","at","instance","getModules","call","modules","recoveryModuleAddress","console","log","instance2","eth","getAccounts","from","triggerAndExecuteRecoveryWithoutDelay","result","error","getRecoveryModuleNonce","nonce","module","exports","MnemonicModal","locations","useState","Bip39","generateMnemonic","mnemonic","state","setState","safeAddressQrCode","React","createRef","mnemonicQrCode","nextState","useEffect","current","submit","generateNewSafeOwners","owner1","owner2","hashedGeohashes","map","l","Buffer","EthUtil","sha3","geohash","sort","join","hashedHashedGeohashes","recoveryModuleNonce","abi","soliditySHA3","rsv","ecsign","to","HOME_URL","className","styles","wrapper","header","content","Fragment","split","word","qrCodes","ref","qrCode","footer","onClick","button","RECOVER_URL","web3","window","ethereum","createAccountFromMnemonic","getChecksumAddressString","accountIndex","seed","mnemonicToSeed","HdKey","fromMasterSeed","derivePath","walletHdPath","getWallet","enable","webpackEmptyContext","req","e","Error","code","keys","resolve","id","pulsingDot","width","height","Uint8Array","onAdd","canvas","this","context","getContext","render","t","performance","now","beginPath","arc","Math","PI","fillStyle","strokeStyle","lineWidth","fill","getImageData","triggerRepaint","BOUNDING_BOX","getPointCoords","coords","Geohash","decode","searchPoints","url","headers","Accept","fetch","method","response","status","json","points","pointsStruct","p","name","geojson","setupMap","element","mapboxgl","accessToken","Map","center","container","style","zoom","maxZoom","on","addImage","pixelRatio","addLayer","description","features","properties","point","getCanvas","cursor","coordinates","geometry","slice","abs","lngLat","lng","popup","Popup","setLngLat","setHTML","addTo","cx","classNames","bind","Modal","visible","children","background","notVisible","modal","Component","Recover","props","listener","setLocations","showMnemonicModal","setShowMnemonicModal","mapRef","history","location","startListener","clearInterval","setInterval","oldLocations","recover","recoverPanel","key","src","greenEarth","greenHearth","disabled","length","mapWrapper","Setup","setup","logo","alt","setSafeAddress","ready","setReady","pathname","title","onSubmit","preventDefault","onChange","target","value","textInput","placeholder","Home","page","left","right","App","basename","process","exact","path","component","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.7d7f9bd5.chunk.js","sourcesContent":["import qrImage from 'qr-image'\r\n\r\nexport const getQrData = (data, size) => {\r\n  let pngImage = qrImage.imageSync(data, { type: 'png', size })\r\n  return 'data:image/png;charset=utf-8;base64, ' + pngImage.toString('base64')\r\n}\r\n\r\nexport const createQrImage = (elem, data, size) => {\r\n  if (data && elem) {\r\n    const image = document.createElement('img')\r\n    image.setAttribute('src', getQrData(data, size))\r\n    const oldChild = elem.firstElementChild\r\n    if (oldChild) {\r\n      oldChild.remove()\r\n    }\r\n    elem.appendChild(image)\r\n  }\r\n}\r\n","import TruffleContract from 'truffle-contract'\r\nimport Web3 from 'web3'\r\nimport GnosisSafe from '../contracts/GnosisSafe.json'\r\nimport RecoveryModule from '../contracts/RecoveryModule.json'\r\nimport { getWeb3 } from './web3'\r\n\r\nexport const safeRecoveryCall = async (safeAddress, recoveryOwners, r, s, v) => {\r\n  // This contract doexn't executes a transaction, just a call\r\n  const safeContract = TruffleContract(GnosisSafe)\r\n  const provider = new Web3.providers.HttpProvider(\r\n    'https://rinkeby.infura.io/v3/' + process.env.REACT_APP_INFURA_PROJECT_ID\r\n  )\r\n  safeContract.setProvider(provider)\r\n\r\n  // This contract executes a transaction\r\n  const recoveryModuleContract = TruffleContract(RecoveryModule)\r\n  const web3Provider = getWeb3().currentProvider\r\n  recoveryModuleContract.setProvider(web3Provider)\r\n\r\n  try {\r\n    const instance = await safeContract.at(safeAddress)\r\n    const modules = await instance.getModules.call()\r\n    const recoveryModuleAddress = modules[0]\r\n    console.log('moduleAddress', recoveryModuleAddress)\r\n    \r\n    const instance2 = await recoveryModuleContract.at(recoveryModuleAddress)\r\n    const from = (await getWeb3().eth.getAccounts())[0]\r\n    const result = await instance2.triggerAndExecuteRecoveryWithoutDelay(r, s, v, recoveryOwners, { from })\r\n\r\n    console.log('result:', result)\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}\r\n\r\nexport const getRecoveryModuleNonce = async (safeAddress) => {\r\n  // This contract doexn't executes a transaction, just a call\r\n  const safeContract = TruffleContract(GnosisSafe)\r\n  const provider = new Web3.providers.HttpProvider(\r\n    'https://rinkeby.infura.io/v3/' + process.env.REACT_APP_INFURA_PROJECT_ID\r\n  )\r\n  safeContract.setProvider(provider)\r\n\r\n  // This contract executes a transaction\r\n  const recoveryModuleContract = TruffleContract(RecoveryModule)\r\n  const web3Provider = getWeb3().currentProvider\r\n  recoveryModuleContract.setProvider(web3Provider)\r\n\r\n  try {\r\n    const instance = await safeContract.at(safeAddress)\r\n    const modules = await instance.getModules.call()\r\n    const recoveryModuleAddress = modules[0]\r\n\r\n    const instance2 = await recoveryModuleContract.at(recoveryModuleAddress)\r\n    const nonce = await instance2.nonce()\r\n    console.log('nonce', nonce, recoveryModuleAddress)\r\n    return nonce.toString()\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"qrCodes\":\"styles_qrCodes__1g01T\",\"qrCode\":\"styles_qrCode__2h-iV\",\"mnemonic\":\"styles_mnemonic__3Jq6p\",\"word\":\"styles_word__2mRld\",\"wrapper\":\"styles_wrapper__2V59G\",\"header\":\"styles_header__2EFCW\",\"content\":\"styles_content__5Bvg1\",\"footer\":\"styles_footer__3TSza\",\"button\":\"styles_button__3bnrK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recover\":\"styles_recover__8-agF\",\"recoverPanel\":\"styles_recoverPanel__2yJlk\",\"mapWrapper\":\"styles_mapWrapper__3m6VN\",\"location\":\"styles_location__1qeXD\",\"greenHearth\":\"styles_greenHearth__30M1-\",\"mapboxgl-popup\":\"styles_mapboxgl-popup__1DzPo\",\"wrapper\":\"styles_wrapper__2bKOv\",\"header\":\"styles_header__3e0cp\",\"content\":\"styles_content__3Wsx4\",\"footer\":\"styles_footer__1XDYe\",\"button\":\"styles_button__1Dqx6\"};","import React, { useState, useEffect } from 'react'\r\nimport Bip39 from 'bip39'\r\nimport EthUtil from 'ethereumjs-util'\r\nimport abi from 'ethereumjs-abi'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { createQrImage } from '../../../../utils/qrCode'\r\nimport { generateNewSafeOwners } from '../../../../utils/web3'\r\nimport { safeRecoveryCall, getRecoveryModuleNonce } from '../../../../utils/contract'\r\nimport { HOME_URL } from '../../../../routes/routes'\r\nimport styles from './styles.module.css'\r\n\r\nconst MnemonicModal = ({ safeAddress, locations }) => {\r\n  const MNEMONIC = 'mnemonic'\r\n  const QRCODES = 'qrcodes'\r\n  const FINISHED = 'finished'\r\n  \r\n  const [mnemonic, setMnemonic] = useState(Bip39.generateMnemonic())\r\n  const [state, setState] = useState(MNEMONIC)\r\n\r\n  const safeAddressQrCode = React.createRef()\r\n  const mnemonicQrCode = React.createRef()\r\n\r\n  const nextState = () => {\r\n    if (state === MNEMONIC) {\r\n      setState(QRCODES)\r\n    } else if (state === QRCODES) {\r\n      setState(FINISHED)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n      createQrImage(safeAddressQrCode.current, safeAddress, 3)\r\n      createQrImage(mnemonicQrCode.current, mnemonic, 3)\r\n  }, [state])\r\n\r\n  const submit = async () => {\r\n    try {\r\n      const [owner1, owner2] = generateNewSafeOwners(mnemonic)\r\n\r\n      const hashedGeohashes = '0x' + locations.map(l =>\r\n        Buffer.from(EthUtil.sha3(l.geohash)).toString('hex')\r\n      ).sort().join('')\r\n\r\n      // This is used as the private key to sign the message sent to the contract\r\n      const hashedHashedGeohashes = EthUtil.sha3(hashedGeohashes)\r\n\r\n      const recoveryModuleNonce = await getRecoveryModuleNonce(safeAddress)\r\n      const data = abi.soliditySHA3(\r\n        [\"bytes1\", \"bytes1\", \"address[]\", \"uint256\"],\r\n        [0x19, 0x00, [owner1, owner2], recoveryModuleNonce]\r\n      )\r\n\r\n      const rsv = EthUtil.ecsign(data, hashedHashedGeohashes)\r\n\r\n      await safeRecoveryCall(safeAddress, [owner1, owner2], rsv.r, rsv.s, rsv.v)\r\n\r\n      nextState()\r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  if (state === FINISHED) {\r\n    return <Redirect to={HOME_URL} />\r\n  }\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.header}>\r\n        <h2>Recovery process</h2>\r\n      </div>\r\n      <div className={styles.content}>\r\n        {state === MNEMONIC && (\r\n          <React.Fragment>\r\n            <p>Write down this seed phrase to later recover your funds in the Gnosis Safe app.</p>\r\n            <div className={styles.mnemonic}>\r\n              {mnemonic && mnemonic.split(' ').map(word => (\r\n                <div className={styles.word}>{word}</div>\r\n              ))}\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n        {state === QRCODES && (\r\n          <div className={styles.qrCodes}>\r\n            <p>Scan the Safe address:</p>\r\n            <div ref={safeAddressQrCode} className={styles.qrCode}></div>\r\n            <p>Scan the mnemonic phrase:</p>\r\n            <div ref={mnemonicQrCode} className={styles.qrCode}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className={styles.footer}>\r\n        {state === MNEMONIC && (\r\n          <button onClick={nextState} className={styles.button}>\r\n            I have a copy\r\n          </button>\r\n        )}\r\n        {state === QRCODES && (\r\n          <button onClick={submit} className={styles.button}>\r\n            Recover Wallet\r\n          </button>\r\n        )}\r\n        \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MnemonicModal\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.929c79fd.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"setup\":\"styles_setup__15Z1c\"};","export const HOME_URL = '/'\r\nexport const RECOVER_URL = '/recover'\r\n","import Web3 from 'web3'\r\nimport Bip39 from 'bip39'\r\nimport HdKey from 'ethereumjs-wallet/hdkey'\r\n\r\nlet web3\r\n\r\nexport const getWeb3 = () => {\r\n  return web3 || (window.web3 && new Web3(window.web3.currentProvider)) || (window.ethereum && new Web3(window.ethereum))\r\n}\r\n\r\nexport const setProvider = async () => {\r\n  let web3Provider\r\n\r\n  if (window.ethereum) {\r\n    web3Provider = window.ethereum\r\n    await web3Provider.enable()\r\n  } else if (window.web3) {\r\n    web3Provider = window.web3.currentProvider\r\n  }\r\n  web3 = new Web3(web3Provider)\r\n}\r\n\r\nexport const isEthAddress = (address) => {\r\n  return getWeb3().utils.isAddress(address)\r\n}\r\n\r\nexport const generateNewSafeOwners = (mnemonic) => {\r\n  const owner1 = createAccountFromMnemonic(mnemonic, 0).getChecksumAddressString()\r\n  const owner2 = createAccountFromMnemonic(mnemonic, 1).getChecksumAddressString()\r\n\r\n  return [owner1, owner2]\r\n}\r\n\r\nexport const createAccountFromMnemonic = (mnemonic, accountIndex) => {\r\n  const seed = Bip39.mnemonicToSeed(mnemonic)\r\n  const hdWallet = HdKey.fromMasterSeed(seed)\r\n  const walletHdPath = \"m/44'/60'/0'/0\"\r\n  const newAccount = hdWallet\r\n    .derivePath(walletHdPath + '/' + accountIndex)\r\n    .getWallet()\r\n\r\n  return newAccount\r\n}\r\n\r\nsetProvider()\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 410;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"styles_background__RXMQB\",\"visible\":\"styles_visible__3oyaS\",\"modal\":\"styles_modal__2HFrJ\",\"notVisible\":\"styles_notVisible__2JF6r\"};","import mapboxgl from 'mapbox-gl'\r\nimport Geohash from 'latlon-geohash'\r\n\r\nlet map\r\nconst size = 100\r\n\r\nconst pulsingDot = {\r\n  width: size,\r\n  height: size,\r\n  data: new Uint8Array(size * size * 4),\r\n  \r\n  onAdd: function() {\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = this.width;\r\n    canvas.height = this.height;\r\n    this.context = canvas.getContext('2d');\r\n  },\r\n  \r\n  render: function() {\r\n    var duration = 1000;\r\n    var t = (performance.now() % duration) / duration;\r\n    \r\n    var radius = size / 2 * 0.3;\r\n    var context = this.context;\r\n    \r\n    // draw inner circle\r\n    context.beginPath();\r\n    context.arc(this.width / 2, this.height / 2, radius, 0, Math.PI * 2);\r\n    context.fillStyle = 'rgba(255, 100, 100, 1)';\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = 2 + 4 * (1 - t);\r\n    context.fill();\r\n    \r\n    // update this image's data with data from the canvas\r\n    this.data = context.getImageData(0, 0, this.width, this.height).data;\r\n    \r\n    // keep the map repainting\r\n    map.triggerRepaint();\r\n    \r\n    // return `true` to let the map know that the image was updated\r\n    return true;\r\n  }\r\n};\r\n\r\nconst BOUNDING_BOX = [\r\n  [12, 50],\r\n  [14, 54]\r\n]\r\n\r\nconst getPointCoords = (geohash) => {\r\n  const coords = Geohash.decode(geohash)\r\n  return [coords['lon'], coords['lat'], 0]\r\n}\r\n\r\nconst searchPoints = async () => {\r\n  const url = 'https://map-api-direct.foam.space/poi/filtered' +\r\n    '?swLng=' + BOUNDING_BOX[0][0] +\r\n    '&swLat=' + BOUNDING_BOX[0][1] +\r\n    '&neLng=' + BOUNDING_BOX[1][0] +\r\n    '&neLat=' + BOUNDING_BOX[1][1] +\r\n    '&status=listing' +\r\n    '&sort=most_value' +\r\n    '&limit=500' +\r\n    '&offset=0'\r\n\r\n  const headers = {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json'\r\n  }\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'GET',\r\n      headers\r\n    })\r\n    let points\r\n    if (response && response.status === 200) {\r\n      points = await response.json()\r\n      console.log(points)            \r\n      const pointsStruct = points.map(p => (\r\n        {\r\n          \"type\": \"Feature\",\r\n          \"geometry\": {\r\n            \"type\": \"Point\",\r\n            \"coordinates\": getPointCoords(p.geohash),\r\n          },\r\n          \"properties\": {\r\n            \"description\": p.name,\r\n            \"geohash\": p.geohash\r\n          },\r\n          \"data\": {\r\n            \"geohash\": p.geohash,\r\n            \"name\": p.name\r\n          }\r\n        }\r\n      ))\r\n      const geojson = {\r\n        \"id\": \"points\",\r\n        \"type\": \"symbol\",\r\n        \"source\": {\r\n          \"type\": \"geojson\",\r\n          \"data\": {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": pointsStruct\r\n          }\r\n        },\r\n        \"layout\": {\r\n          \"icon-image\": \"pulsing-dot\"\r\n        }\r\n      }\r\n      return geojson\r\n    }\r\n    return []\r\n  } catch (err) {\r\n    console.error(err)\r\n    return []\r\n  }\r\n}\r\n\r\nexport const setupMap = async (element) => {\r\n  if (element !== null) {\r\n    const geojson = await searchPoints()\r\n\r\n    mapboxgl.accessToken = 'pk.eyJ1IjoiZ2VybWFuOTIiLCJhIjoiY2p6cHB4NXd2MDI2djNjcnF4Y2E3NnpzMCJ9.ufsI1VW_rGWnHvTJ9VKvVA';\r\n    map = new mapboxgl.Map({\r\n      center: [13.363, 52.514],\r\n      container: element,\r\n      style: 'mapbox://styles/mapbox/dark-v10',\r\n      zoom: 12,\r\n      maxZoom: 16\r\n    })\r\n\r\n    map.on('load', () => {\r\n      map.addImage('pulsing-dot', pulsingDot, { pixelRatio: 2 });\r\n      console.log(geojson)\r\n      map.addLayer(geojson)\r\n    })\r\n\r\n    let popup\r\n\r\n    map.on('click', 'points', (e) => {\r\n      const description = e.features[0].properties.description\r\n      const geohash = e.features[0].properties.geohash\r\n\r\n      // MUST USE REDUX HERE INSTEAD OF WINDOW, HAD NO TIME DURING HACKATHON\r\n      window.point = { description, geohash }\r\n    })\r\n  \r\n    map.on('mouseenter', 'points', (e) => {\r\n      map.getCanvas().style.cursor = 'pointer'\r\n\r\n      const coordinates = e.features[0].geometry.coordinates.slice()\r\n      const description = e.features[0].properties.description\r\n\r\n      while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360\r\n      }\r\n      \r\n      popup = new mapboxgl.Popup()\r\n        .setLngLat(coordinates)\r\n        .setHTML(description)\r\n        .addTo(map)\r\n    })\r\n\r\n    map.on('mouseleave', 'points', () => {\r\n      map.getCanvas().style.cursor = ''\r\n      if (popup) {\r\n        popup.remove()\r\n      }\r\n    })\r\n    \r\n    return map\r\n  }\r\n}\r\n","import React from 'react'\r\nimport classNames from 'classnames/bind'\r\nimport styles from './styles.module.css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Modal = ({ visible, children }) => (\r\n  <div className={cx(styles.background, visible ? styles.visible : styles.notVisible)}>\r\n    <div className={styles.modal}>\r\n      {children}\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Modal\r\n","import React, { Component } from 'react'\r\n//import { toDataUrl } from '../../utils/blockies'\r\n\r\nclass Blockie extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.identicon = React.createRef()\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const { address, diameter } = this.props\r\n    const image = this.generateBlockieIdenticon(address, diameter)\r\n    this.identicon.current.appendChild(image)\r\n  }\r\n\r\n  componentDidUpdate = () => {\r\n    const { address, diameter } = this.props\r\n    const image = this.generateBlockieIdenticon(address, diameter)\r\n\r\n    const children = this.identicon.current.children\r\n    for (let i = 0; i < children.length; i++) {\r\n      this.identicon.current.removeChild(children[i])\r\n    }\r\n\r\n    this.identicon.current.appendChild(image)\r\n  }\r\n\r\n  generateBlockieIdenticon = (address, diameter) => {\r\n    if (!address || !diameter) {\r\n      return null\r\n    }\r\n\r\n    const image = new window.Image()\r\n    //image.src = toDataUrl(address)\r\n    image.height = diameter\r\n    image.width = diameter\r\n    image.style.borderRadius = diameter / 2 + 'px'\r\n    return image\r\n  }\r\n\r\n  render() {\r\n    return <div ref={this.identicon} />\r\n  }\r\n}\r\n\r\nexport default Blockie\r\n","import React, { useState, useEffect } from 'react'\r\nimport { setupMap } from './mapUtils'\r\nimport Modal from '../../components/Modal'\r\nimport MnemonicModal from './components/MnemonicModal'\r\nimport greenEarth from '../../assets/green_earth.png'\r\nimport Blockie from '../../components/Blockie'\r\nimport styles from './styles.module.css'\r\n\r\nconst Recover = (props) => {\r\n  const [locations, setLocations] = useState([])\r\n  const [showMnemonicModal, setShowMnemonicModal] = useState(false)\r\n\r\n  let listener\r\n  const mapRef = React.createRef()\r\n  const safeAddress = props.history.location.state.safeAddress\r\n  \r\n  useEffect(() => {\r\n    startListener()\r\n    setupMap(mapRef.current)\r\n\r\n    return () => clearInterval(listener)\r\n  }, [])\r\n\r\n  const startListener = () => {\r\n    // SHOULD USE REDUX HERE INSTEAD OF WINDOW\r\n    listener = setInterval(() => {\r\n      if (window.point) {\r\n        setLocations(oldLocations => [...oldLocations, window.point])\r\n        delete window.point\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  const toggleMnemonicModal = () => {\r\n    setShowMnemonicModal(!showMnemonicModal)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={styles.recover}>\r\n        <div className={styles.recoverPanel}>\r\n          <h2>Confirm recovery locations</h2>\r\n          <p>Identify your five locations to recover your Gnosis Safe below.</p>\r\n          <div className={styles.wrapper}>\r\n            <div className={styles.header}>\r\n              {/*<Blockie address={safeAddress} diameter={24} />*/}\r\n              <div>{safeAddress}</div>\r\n            </div>\r\n            <div className={styles.content}>\r\n              {locations.map(l => (\r\n                <div className={styles.location} key={l.geohash}>\r\n                  <img src={greenEarth} className={styles.greenHearth} />\r\n                  {l.description}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className={styles.footer}>\r\n              <button\r\n                disabled={locations.length < 0}\r\n                onClick={toggleMnemonicModal}\r\n                className={styles.button}\r\n              >\r\n                Recover Wallet\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.mapWrapper}>\r\n          <div ref={mapRef}></div>\r\n        </div>\r\n      </div>\r\n      <Modal visible={showMnemonicModal}>\r\n        <MnemonicModal\r\n          locations={locations}\r\n          safeAddress={safeAddress}\r\n        />\r\n      </Modal>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Recover","import React from 'react'\r\nimport logo from '../../../../assets/logo.png'\r\nimport styles from './styles.module.css'\r\n\r\nconst Setup = () => (\r\n  <div className={styles.setup}>\r\n    <h1><img src={logo} alt=\"Logo\" width='80px'/>Mapcovery</h1>\r\n  </div>\r\n)\r\n\r\nexport default Setup\r\n","import React, { useState } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { RECOVER_URL } from '../../../routes'\r\n// import { Form } from 'react-final-form'\r\n// import TextField from '../../../../components/forms/TextField'\r\n// import { composeValidators, mustBeEthereumAddress } from '../../../../components/forms/validators'\r\nimport styles from './styles.module.css'\r\n\r\nconst Recover = () => {\r\n  const [safeAddress, setSafeAddress] = useState('')\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const submit = (e) => {\r\n    if (safeAddress !== null && safeAddress !== '') {\r\n      setReady(true)\r\n    }\r\n    else {\r\n      e.preventDefault()\r\n      // show error here\r\n    }\r\n  }\r\n\r\n  const updateSafeAddress = (e) => {\r\n    const safeAddress = e.target.value\r\n    setSafeAddress(safeAddress)\r\n  }\r\n\r\n  if (ready) {\r\n    return (\r\n      <Redirect to={{\r\n        pathname: RECOVER_URL,\r\n        state: {\r\n          safeAddress\r\n        }\r\n      }}/>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={styles.recover}>\r\n      <h1>Recover</h1>\r\n      <div className={styles.title}>\r\n        Restore your Gnosis Safe by entering your Gnosis Safe address.\r\n      </div>\r\n      {/* <Form\r\n        onSubmit={submit}\r\n        render={(handleSubmit) => (\r\n          <TextField\r\n            validate={composeValidators(mustBeEthereumAddress)}\r\n            placeholder=\"0x...\"\r\n          />\r\n        )}\r\n      /> */}\r\n      <form onSubmit={submit}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={updateSafeAddress}\r\n          className={styles.textInput}\r\n          placeholder=\"0x...\"\r\n        />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Recover\r\n","import React from 'react'\r\nimport styles from './styles.module.css'\r\nimport Setup from './components/Setup'\r\nimport Recover from './components/Recover'\r\n\r\nconst Home = () => (\r\n  <div className={styles.page}>\r\n    <div className={styles.left}>\r\n      <Setup/>\r\n    </div>\r\n    <div className={styles.right}>\r\n      <Recover />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Home\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport Recover from './routes/recover'\r\nimport Home from './routes/home'\r\nimport {\r\n  HOME_URL,\r\n  RECOVER_URL\r\n} from './routes/routes'\r\n\r\nfunction App() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>        \r\n      <Route exact path={HOME_URL} component={Home} /> \r\n      <Route path={RECOVER_URL} component={Recover}/>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// Importing the Bootstrap CSS\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"styles_page__1lAXq\",\"left\":\"styles_left__um2bp\",\"right\":\"styles_right__1brHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recover\":\"styles_recover__1dfJd\",\"title\":\"styles_title__3CHaP\",\"textInput\":\"styles_textInput__YgzBf\"};"],"sourceRoot":""}